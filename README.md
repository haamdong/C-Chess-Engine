# ♟ C-Chess-Engine

> 순수 C 언어로 작성된 경량 모듈형 체스 엔진

![언어](https://img.shields.io/badge/언어-C-blue.svg)
![상태](https://img.shields.io/badge/상태-개발%20중-orange.svg)
![종류](https://img.shields.io/badge/종류-체스%20엔진-black.svg)
![플랫폼](https://img.shields.io/badge/플랫폼-Windows-lightgrey.svg)

---

## 프로젝트 소개

C-Chess-Engine은 외부 라이브러리 없이 순수 C 언어로 작성된 고전적인 탐색 기반 체스 엔진입니다. 이동 생성, 평가 함수, 트리 탐색 등 체스 엔진의 핵심 구성 요소를 구현하며, 모듈형 구조로 가독성과 확장성을 갖추고 있습니다.

C 언어에서 고전적인 AI 탐색 기법을 이해하기 위한 교육용 프로젝트로, 세 가지 게임 모드를 지원합니다.

---

## 핵심 구조

| 구성 요소 | 파일 | 설명 |
|-----------|------|------|
| **보드** | `Board.c / Board.h` | 보드 상태 관리, 이동 유효성 검사, 합법 수 생성, 특수 규칙 처리 |
| **엔진** | `Engine.c / Engine.h` | Minimax 탐색, 알파베타 가지치기, 무브 오더링, 평가 함수 |
| **진입점** | `main.c` | 게임 루프, 사용자 입력 처리, 모드 선택 |

---

## 주요 기능

### 보드 및 규칙
- 1차원 배열 보드 표현 (64칸, 인덱스 0 = a1)
- 킹 안전 검증을 포함한 완전한 합법 수 생성
- 앙파상, 캐슬링 (킹사이드·퀸사이드), 폰 프로모션 지원
- 체크메이트 및 스테일메이트 감지 (전수 탐색 방식)
- 터미널 유니코드 기물 렌더링

### 탐색 엔진
- 알파베타 가지치기가 적용된 Minimax 알고리즘
- `Board`를 값으로 전달 — 별도의 undo 로직 불필요
- MVV-LVA 기반 무브 오더링 (캡처 수 우선 탐색)
- 탐색 트리에 캐슬링 수 포함
- Windows API 기반 멀티스레드 루트 탐색 (`CreateThread`)

### 평가 함수
- 기물 가치 기반 재료 점수
- 모든 기물 유형에 대한 위치 보너스 테이블 (Piece-Square Table)
- 킹 안전도 평가: 폰 방패 보너스, 캐슬링 권한 보너스

---

## 게임 모드

| 모드 | 설명 |
|------|------|
| **1. 플레이어 대 플레이어** | 두 명의 플레이어가 대수 표기법으로 번갈아 수를 입력합니다 |
| **2. 플레이어 대 엔진** | AI와 대결합니다. 백 또는 흑을 선택할 수 있으며 엔진은 설정된 깊이로 탐색합니다 |
| **3. 분석 모드** | 엔진이 현재 국면의 최선의 수를 제안합니다. 수를 적용하며 분석을 이어갈 수 있습니다 |

---

## 기물 가치

| 기물 | 가치 |
|------|------|
| 폰 | 100 |
| 나이트 | 320 |
| 비숍 | 334 |
| 룩 | 500 |
| 퀸 | 900 |
| 킹 | 20000 |

---

## 빌드 및 실행

### 요구 사항
- Windows (Windows 스레드 API 사용)
- GCC 또는 MSVC 컴파일러

### 컴파일 (GCC)
```bash
gcc -O2 -o chess main.c Board.c Engine.c
```

### 실행
```bash
./chess
```

### 입력 형식
```
e2e4       # 일반 이동 (출발칸 → 목적칸)
O-O        # 킹사이드 캐슬링
O-O-O      # 퀸사이드 캐슬링
```

---

## 프로젝트 구조

```
C-Chess-Engine/
├── main.c              # 게임 루프, 모드 선택, 입력 처리
├── Board.c             # 보드 상태, 이동 생성, 규칙 처리
├── Board.h
├── Engine.c            # Minimax 탐색, 평가 함수, 무브 오더링
├── Engine.h
├── README.md
└── DOCUMENTATION.md
```

---

## 향후 개선 계획

- [ ] Minimax 탐색 트리 내 캐슬링 적용 수정
- [ ] UCI 프로토콜 지원 (Lichess 봇 등록용)
- [ ] 트랜스포지션 테이블 (Zobrist 해싱)
- [ ] 반복 심화 탐색 (Iterative Deepening)
- [ ] 퀴에이슨스 탐색 (Quiescence Search)
- [ ] 반복 수 감지 및 패널티
- [ ] 오프닝 북 연동
- [ ] 엔드게임 테이블베이스

---

*순수 C로 작성된 교육용 체스 엔진 프로젝트*
